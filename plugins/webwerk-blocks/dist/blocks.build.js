!function(e){function t(s){if(n[s])return n[s].exports;var l=n[s]={i:s,l:!1,exports:{}};return e[s].call(l.exports,l,l.exports,t),l.l=!0,l.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,s){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(1),n(3),n(6),n(8),n(11),n(13),n(16),n(18)},function(e,t,n){"use strict";var s=n(2),l=(n.n(s),wp.blocks.registerBlockType),r=wp.editor.InspectorControls,a=wp.components,o=a.PanelBody,i=a.TextControl;l("ww/button",{title:"WW - Button",icon:"shield",category:"common",keywords:["WW - Button","Webwerk"],attributes:{link_text:{type:"string",source:"text",selector:"span"},link_url:{selector:"a",source:"attribute",attribute:"href"},svg_url:{selector:"use",source:"attribute",attribute:"href"}},edit:function(e){function t(e){l({link_text:e})}function n(e){l({link_url:e})}var s=e.attributes,l=e.setAttributes,a=s.link_text,c=s.link_url,p=s.svg_url,u=ww_blocks.templateUrl;return l({svg_url:u+"/img/icons.svg#button-next"}),[wp.element.createElement(r,null,wp.element.createElement(o,{title:"Link Parameter"},wp.element.createElement("div",{id:"ww-container-inspector-control-wrapper"},wp.element.createElement("label",{class:"blocks-base-control__label",for:"mce_1"},"Link Text"),wp.element.createElement(i,{onChange:t,value:a}),wp.element.createElement("label",{class:"blocks-base-control__label",for:"mce_2"},"Link URL"),wp.element.createElement(i,{onChange:n,value:c})))),wp.element.createElement("a",{class:"btn btn-std",href:"#"},wp.element.createElement("svg",{role:"img",class:"symbol","aria-hidden":"true",focusable:"false"},wp.element.createElement("use",{href:p})),wp.element.createElement("span",null,a))]},save:function(e){var t=e.attributes,n=t.link_text,s=t.link_url,l=t.svg_url;return wp.element.createElement("a",{class:"btn btn-std",href:s},wp.element.createElement("svg",{role:"img",class:"symbol","aria-hidden":"true",focusable:"false"},wp.element.createElement("use",{href:l})),wp.element.createElement("span",null,n))}})},function(e,t){},function(e,t,n){"use strict";var s=n(4),l=(n.n(s),n(5)),r=(n.n(l),wp.i18n.__),a=wp.blocks.registerBlockType,o=wp.editor,i=o.InnerBlocks,c=o.InspectorControls,p=o.RichText;a("ww/container",{title:r("WW - Container"),icon:"shield",category:"common",keywords:[r("WW - Container"),r("Webwerk")],attributes:{section_class:{type:"string",default:""},pagewrap_class:{type:"string",default:""}},edit:function(e){function t(t){e.setAttributes({section_class:t})}function n(t){e.setAttributes({pagewrap_class:t})}function s(){return l&&r?(l="section "+l,r="page-wrap "+r):l?(l="section "+l,r="page-wrap"):r?(l="section",r="page-wrap "+r):(l="section",r="page-wrap"),wp.element.createElement("div",{className:e.className},wp.element.createElement("div",{className:l},wp.element.createElement("div",{className:r},wp.element.createElement(i,null))))}var l=e.attributes.section_class,r=e.attributes.pagewrap_class;return[wp.element.createElement(c,null,wp.element.createElement("div",{id:"ww-container-inspector-control-wrapper"},wp.element.createElement("label",{class:"blocks-base-control__label",for:"mce_1"},"Section class"),wp.element.createElement(p,{format:"string",className:"ww-container-inspector-control-field",onChange:t,value:l}),wp.element.createElement("label",{class:"blocks-base-control__label",for:"mce_2"},"Page-wrap class"),wp.element.createElement(p,{format:"string",className:"ww-container-inspector-control-field",onChange:n,value:r}))),wp.element.createElement(s,null)]},save:function(e){function t(){var t=e.attributes.section_class,n=e.attributes.pagewrap_class;return t&&n?(t="section "+t,n="page-wrap "+n):t?(t="section "+t,n="page-wrap"):n?(t="section",n="page-wrap "+n):(t="section",n="page-wrap"),wp.element.createElement("div",{className:t},wp.element.createElement("div",{className:n},wp.element.createElement(i.Content,null)))}return wp.element.createElement(t,null)}})},function(e,t){},function(e,t){},function(e,t,n){"use strict";var s=n(7),l=(n.n(s),wp.blocks.registerBlockType),r=wp.components.ServerSideRender;l("ww/news",{title:"WW - Aktuelles",icon:"shield",category:"common",keywords:["WW - Aktuelles","Webwerk"],edit:function(e){return wp.element.createElement(r,{block:"ww/news",attributes:e.attributes})},save:function(){return null}})},function(e,t){},function(e,t,n){"use strict";var s=n(9),l=(n.n(s),n(10)),r=(n.n(l),wp.blocks.registerBlockType),a=wp.components.ServerSideRender;r("ww/events",{title:"WW - Veranstaltungen",icon:"shield",category:"common",keywords:["WW - Veranstaltungen","Webwerk"],edit:function(e){return wp.element.createElement(a,{block:"ww/events",attributes:e.attributes})},save:function(){return null}})},function(e,t){},function(e,t){},function(e,t,n){"use strict";var s=n(12),l=(n.n(s),wp.blocks.registerBlockType),r=wp.editor,a=r.InnerBlocks,o=r.InspectorControls,i=wp.components,c=(i.PanelBody,i.TextControl);l("ww/tiles",{title:"WW - Kacheln",icon:"shield",category:"common",keywords:["WW - Kacheln","Webwerk"],attributes:{section_class:{type:"string",default:""},pagewrap_class:{type:"string",default:""}},edit:function(e){function t(t){e.setAttributes({section_class:t})}function n(t){e.setAttributes({pagewrap_class:t})}function s(){return l&&r?(l="section "+l,r="page-wrap "+r):l?(l="section "+l,r="page-wrap"):r?(l="section",r="page-wrap "+r):(l="section",r="page-wrap"),wp.element.createElement("div",{className:e.className},wp.element.createElement("div",{className:l},wp.element.createElement("div",{className:r},wp.element.createElement("div",{class:"tiles"},wp.element.createElement(a,null)))))}var l=e.attributes.section_class,r=e.attributes.pagewrap_class;return[wp.element.createElement(o,null,wp.element.createElement("div",{id:"ww-tiles-inspector-control-wrapper"},wp.element.createElement("label",{class:"blocks-base-control__label",for:"mce_1"},"Section class"),wp.element.createElement(c,{onChange:t,value:l}),wp.element.createElement("label",{class:"blocks-base-control__label",for:"mce_2"},"Page-wrap class"),wp.element.createElement(c,{onChange:n,value:r}))),wp.element.createElement(s,null)]},save:function(e){function t(){var t=e.attributes.section_class,n=e.attributes.pagewrap_class;return t&&n?(t="section "+t,n="page-wrap "+n):t?(t="section "+t,n="page-wrap"):n?(t="section",n="page-wrap "+n):(t="section",n="page-wrap"),wp.element.createElement("div",{className:t},wp.element.createElement("div",{className:n},wp.element.createElement("div",{class:"tiles"},wp.element.createElement(a.Content,null))))}return wp.element.createElement(t,null)}})},function(e,t){},function(e,t,n){"use strict";function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var l=n(14),r=(n.n(l),n(15)),a=wp.blocks.registerBlockType,o=wp.editor,i=(o.InspectorControls,o.MediaUpload),c=o.MediaUploadCheck,p=o.RichText,u=wp.components.Button,m=["image"];a("ww/tile-item",{title:"WW - Kachelelement",icon:"shield",category:"common",keywords:["WW - Kachelelement","Webwerk"],parent:["ww/tiles"],attributes:{mediaID:{type:"number"},mediaURL:{type:"string",source:"attribute",selector:"img",attribute:"src"},mediaAlt:{type:"string",source:"attribute",selector:"img",attribute:"alt"},posts:{type:"array",default:[]},content:{source:"html",selector:"span"},svgURL:{selector:"use",source:"attribute",attribute:"href"}},edit:function(e){var t=e.className,n=e.attributes,l=e.attributes,a=(l.content,l.mediaID),o=l.mediaURL,w=l.mediaAlt,d=(l.posts,l.svgURL,e.setAttributes),g=ww_blocks.templateUrl;d({svgURL:g+"/img/icons.svg#button-next"});var f=function(e){d({mediaURL:e.url,mediaID:e.id,mediaAlt:e.alt})};return[wp.element.createElement("div",{className:e.className},wp.element.createElement(c,null,wp.element.createElement(i,{onSelect:f,allowedTypes:m,value:a,render:function(e){var t=e.open;return wp.element.createElement(u,{onClick:t},a?null:"Bild hinzuf\xfcgen")}})),wp.element.createElement(r.a,{onPostSelect:function(e){n.posts.push(e),d({posts:[].concat(s(n.posts))})},posts:n.posts,onChange:function(e){d({posts:[].concat(s(e))})},postType:"page",limit:"1"}),wp.element.createElement("div",{class:"tile-item"},wp.element.createElement("a",{class:"tile-item__link",href:"#"},wp.element.createElement("div",{class:"btn btn-std"},wp.element.createElement(p,{tagName:"span",className:t,value:n.content,onChange:function(e){return d({content:e})},placeholder:"Hier Text eingeben."})),a?wp.element.createElement("img",{src:o,alt:w}):null)))]},save:function(e){var t=e.attributes,n=t.posts.map(function(e){return e.url});return wp.element.createElement("div",{class:"tile-item"},wp.element.createElement("a",{class:"tile-item__link",href:n[0]},wp.element.createElement("div",{class:"btn btn-std"},wp.element.createElement("svg",{role:"img",class:"symbol","aria-hidden":"true",focusable:"false"},wp.element.createElement("use",{href:t.svgURL})),wp.element.createElement(p.Content,{tagName:"span",value:t.content})),wp.element.createElement("div",{class:"t-img"},wp.element.createElement("img",{src:t.mediaURL,alt:t.mediaAlt}))))}})},function(e,t){},function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=void 0;return function(){for(var s=this,l=arguments.length,r=Array(l),a=0;a<l;a++)r[a]=arguments[a];clearTimeout(n),n=setTimeout(function(){e.apply(s,r)},t)}}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),i=wp.element,c=i.Component,p=i.Fragment,u=wp.htmlEntities.decodeEntities,m=wp.keycodes,w=m.UP,d=m.DOWN,g=m.ENTER,f=wp.components,b=f.Spinner,v=f.Popover,h=f.IconButton,y=wp.compose.withInstanceId,E=wp,k=E.apiFetch,_=wp.url.addQueryArgs,S=function(e){return e.stopPropagation()},C=function(e){function t(){s(this,t);var e=l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onChange=e.onChange.bind(e),e.onKeyDown=e.onKeyDown.bind(e),e.bindListNode=e.bindListNode.bind(e),e.updateSuggestions=a(e.updateSuggestions.bind(e),200),e.limit=!!e.props.limit&&parseInt(e.props.limit),e.suggestionNodes=[],e.state={posts:[],showSuggestions:!1,selectedSuggestion:null,input:""},e}return r(t,e),o(t,[{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){delete this.suggestionsRequest}},{key:"bindListNode",value:function(e){this.listNode=e}},{key:"bindSuggestionNode",value:function(e){var t=this;return function(n){t.suggestionNodes[e]=n}}},{key:"updateSuggestions",value:function(e){var t=this;if(e.length<2||/^https?:/.test(e))return void this.setState({showSuggestions:!1,selectedSuggestion:null,loading:!1});this.setState({showSuggestions:!0,selectedSuggestion:null,loading:!0});var n=k({path:_("/wp/v2/search",{search:e,per_page:20,type:"post",subtype:this.props.postType?this.props.postType:void 0})});n.then(function(e){t.suggestionsRequest===n&&t.setState({posts:e,loading:!1})}).catch(function(){t.suggestionsRequest===n&&t.setState({loading:!1})}),this.suggestionsRequest=n}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({input:t}),this.updateSuggestions(t)}},{key:"onKeyDown",value:function(e){var t=this.state,n=t.showSuggestions,s=t.selectedSuggestion,l=t.posts,r=t.loading;if(n&&l.length&&!r)switch(e.keyCode){case w:e.stopPropagation(),e.preventDefault();var a=s?s-1:l.length-1;this.setState({selectedSuggestion:a});break;case d:e.stopPropagation(),e.preventDefault();var o=null===s||s===l.length-1?0:s+1;this.setState({selectedSuggestion:o});break;case g:if(null!==this.state.selectedSuggestion){e.stopPropagation();var i=this.state.posts[this.state.selectedSuggestion];this.selectLink(i)}}}},{key:"selectLink",value:function(e){var t=this;if(this.props.data){var n=!1,s={},l=!0,r=!1,a=void 0;try{for(var o,i=this.props.data[Symbol.iterator]();!(l=(o=i.next()).done);l=!0){var c=o.value;if(!e.hasOwnProperty(c))return void(n=!0);s[c]=e[c]}}catch(e){r=!0,a=e}finally{try{!l&&i.return&&i.return()}finally{if(r)throw a}}if(!n)return this.props.onPostSelect(s),void this.setState({input:"",selectedSuggestion:null,showSuggestions:!1})}k({path:"/wp/v2/"+e.subtype+"s/"+e.id}).then(function(e){var n={title:u(e.title.rendered),id:e.id,excerpt:u(e.excerpt.rendered),url:e.link,date:e.human_date};t.props.onPostSelect(n)}),this.setState({input:"",selectedSuggestion:null,showSuggestions:!1})}},{key:"renderSelectedPosts",value:function(){var e=this;return wp.element.createElement("ul",null,this.props.posts.map(function(t,n){return wp.element.createElement("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",flexWrap:"nowrap"},key:t.id},wp.element.createElement("span",{style:{maxWidth:"60%"}},t.title),wp.element.createElement("span",null,0!==n?wp.element.createElement(h,{style:{display:"inline-flex",padding:"8px 2px",textAlign:"center"},icon:"arrow-up-alt2",onClick:function(){e.props.posts.splice(n-1,0,e.props.posts.splice(n,1)[0]),e.props.onChange(e.props.posts),e.setState({state:e.state})}}):null,n!==e.props.posts.length-1?wp.element.createElement(h,{style:{display:"inline-flex",padding:"8px 2px",textAlign:"center"},icon:"arrow-down-alt2",onClick:function(){e.props.posts.splice(n+1,0,e.props.posts.splice(n,1)[0]),e.props.onChange(e.props.posts),e.setState({state:e.state})}}):null,wp.element.createElement(h,{style:{display:"inline-flex",textAlign:"center"},icon:"no",onClick:function(){e.props.posts.splice(n,1),e.props.onChange(e.props.posts),e.setState({state:e.state})}})))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.autoFocus,s=void 0===n||n,l=t.instanceId,r=t.limit,a=this.state,o=a.showSuggestions,i=a.posts,c=a.selectedSuggestion,m=a.loading,w=a.input,d=!!r&&this.props.posts.length>=r;return wp.element.createElement(p,null,this.renderSelectedPosts(),wp.element.createElement("div",{className:"editor-url-input"},wp.element.createElement("input",{autoFocus:s,type:"text","aria-label":"URL",required:!0,value:w,onChange:this.onChange,onInput:S,placeholder:d?"Begrenzt auf "+r+" Beitrag":"Seiten- oder Beitragstitel eingeben",onKeyDown:this.onKeyDown,role:"combobox","aria-expanded":o,"aria-autocomplete":"list","aria-owns":"editor-url-input-suggestions-"+l,"aria-activedescendant":null!==c?"editor-url-input-suggestion-"+l+"-"+c:void 0,style:{width:"100%"},disabled:d}),m&&wp.element.createElement(b,null)),o&&!!i.length&&wp.element.createElement(v,{position:"bottom",noArrow:!0,focusOnMount:!1},wp.element.createElement("div",{className:"editor-url-input__suggestions",id:"editor-url-input-suggestions-"+l,ref:this.bindListNode,role:"listbox"},i.map(function(t,n){return wp.element.createElement("button",{key:t.id,role:"option",tabIndex:"-1",id:"editor-url-input-suggestion-"+l+"-"+n,ref:e.bindSuggestionNode(n),className:"editor-url-input__suggestion "+(n===c?"is-selected":""),onClick:function(){return e.selectLink(t)},"aria-selected":n===c},u(t.title)||"(kein Titel)")}))))}}]),t}(c);t.a=y(C)},function(e,t,n){"use strict";var s=n(17),l=(n.n(s),wp.blocks.registerBlockType),r=wp.editor,a=r.InnerBlocks,o=r.InspectorControls,i=(wp.element.Fragment,wp.components),c=i.PanelBody,p=i.TextControl;l("ww/inner-container",{title:"WW - Innen-Container",icon:"shield",category:"common",keywords:["WW - Innen-Container","Webwerk"],attributes:{container_class:{type:"string"}},edit:function(e){function t(t){e.setAttributes({container_class:t})}function n(){return s||(s="inner-container"),wp.element.createElement("div",{className:e.className},wp.element.createElement("div",{className:s},wp.element.createElement(a,null)))}var s=e.attributes.container_class;return[wp.element.createElement(o,null,wp.element.createElement(c,{title:"Klassenname"},wp.element.createElement("div",{id:"ww-container-inspector-control-wrapper"},wp.element.createElement("label",{class:"blocks-base-control__label",for:"mce_1"},"Container Klasse"),wp.element.createElement(p,{onChange:t,value:s})))),wp.element.createElement(n,null)]},save:function(e){function t(){return n||(n="inner-container"),wp.element.createElement("div",{className:n},wp.element.createElement(a.Content,null))}var n=e.attributes.container_class;return wp.element.createElement(t,null)}})},function(e,t){},function(e,t,n){"use strict";var s=n(19),l=(n.n(s),wp.blocks.registerBlockType),r=wp.editor,a=(r.InnerBlocks,r.InspectorControls),o=r.RichText,i=wp.components,c=i.PanelBody,p=i.TextControl;l("ww/category-head",{title:"WW - Kategorie-\xdcberschrift",icon:"shield",category:"common",keywords:["WW - Kategorie-\xdcberschrift","Webwerk"],attributes:{span_class:{type:"string"},content:{source:"html",selector:"span"}},edit:function(e){function t(e){l({span_class:e})}var n=e.className,s=e.attributes,l=e.setAttributes;r||(s.span_class="category-head");var r=s.span_class;return[wp.element.createElement(a,null,wp.element.createElement(c,{title:"Klassenname"},wp.element.createElement("div",{id:"ww-container-inspector-control-wrapper"},wp.element.createElement("label",{class:"blocks-base-control__label",for:"mce_1"},"Span Klasse"),wp.element.createElement(p,{onChange:t,value:r})))),wp.element.createElement("div",{className:n},wp.element.createElement(o,{tagName:"span",className:r,value:s.content,onChange:function(e){return l({content:e})}}))]},save:function(e){var t=e.attributes;return wp.element.createElement(o.Content,{tagName:"span",value:t.content,className:t.span_class})}})},function(e,t){}]);